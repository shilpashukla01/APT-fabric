<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <!-- jQuery UI CSS (from Google CDN) -->
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/base/jquery-ui.css" type="text/css" media="all" />
    <!-- end -->

    <style>
      html, body {
       margin:0;
       padding:0;
       overflow:hidden;
      }

    div#piemenu {
      position:absolute;
      left:700px;
      top:200px;
    }

    div.pieMenuText {
      color:#000000;
      position:relative;

    }

    a.pieMenu {
      text-decoration:none;
    }

     .vmenu{border:1px solid #aaa;position:absolute;background:#fff;  display:none;font-size:0.75em;}
     .vmenu .first_li span{width:100px;display:block;padding:5px 10px;cursor:pointer}
     .vmenu .inner_li{display:none;margin-left:120px;position:absolute;border:1px solid #aaa;border-left:1px solid #ccc;margin-top:-28px;background:#fff;}
     .vmenu .sep_li{border-top: 1px ridge #aaa;margin:5px 0}
     .vmenu .fill_title{font-size:11px;font-weight:bold;/height:15px;/overflow:hidden;word-wrap:break-word;}

     #state { width: 70px; height: 20px; position: fixed; background-color:'#FFFFFF'; border:1px solid black; font-size:9pt; font-family: Arial, sans-serif;z-index:101; display:none;text-align:center;}

     .dialog { display: none; }
    </style>

    </head>
    <body id='body'>
      <!-- Pie menu -->
      <div id="piemenu" style="background-image: url('img/piemenu.svg');width: 180px;height:180px;z-index:2;">
        <ul id="piemenu" class="PieMenu" style="list-style-type:none;z-index:3;">
          <li id = "1" onclick="PieMenu.clicked()" style="position:relative;left:38px;top:5px;"><a class="pieMenu" href="#"><div class="pieMenuText" style="width:50%;top:-3px;left:-22px;">new group</div><object data="img/plus.svg" type="image/svg+xml" style="width:18%;height:18%;"></object></a></li>
          <li id="2" style="position:relative;left:90px;top:3px;"><a href="#" class="pieMenu" onclick="PieMenu.clicked()"><div class="pieMenuText" style="top:-2px;">find</div><object data="img/magnifying_glass.svg" type="image/svg+xml" style="width:18%;height:18%;"></object></a></li>
          <li style="position:relative;left:-15px;top:-58px;"><a href="#" class="pieMenu" onclick="PieMenu.clicked()" style="text-decoration:none;"><div class="pieMenuText" style="left:-7px;top:-2px;width:25%;margin:0;padding:0;">bring me...</div><object data="img/arrow_down.svg" type="image/svg+xml" style="width:18%;height:18%;"></object></a></li>
          <li style="position:relative;left:38px;top:-70px;"><a href="#" class="pieMenu" onclick="PieMenu.clicked()" style="text-decoration:none;"><div class="pieMenuText" style="left:-4px;top:0px;">close</div><object data="img/x.svg" type="image/svg+xml" style="width:18%;height:18%;"></object></a></li>
        </ul>
      </div>
      <!-- end -->

      <!-- Item context menu -- being phased out -->
      <div class="vmenu item" id="original" style="display:none;">
        <div class="first_li" id="edit"><span>Edit metadata</span></div>
      </div>
      <div class="dialog item" id="edit" title="Edit metadata">
        <p><span>Title: </span><input type="text" id="title" value="Existing title"/></p>
        <p><span>Description: </span><input type="text" id="description" value="Description"/></p>
      </div>
      <!-- end -->

      <!-- Item metadata dialog -->
      <div class="vmenu permgroup" id="original" style="display:none;">
        <div class="first_li" id="edit"><span>Edit metadata</span></div>
        <div class="first_li" id="ungroup"><span>Ungroup</span></div>
      </div>
      <!-- end -->

      <!-- Group metadata dialog -->
      <div class="dialog group" id="edit" title="Edit metadata">
        <p><span>Title: </span><input type="text" id="title" value="Existing title"/></p>
        <p><span>Description: </span><input type="text" id="description" value="Description"/></p>
        <select name="groupType">
          <option val="file">File</option>
          <option val="subseries">Subseries</option>
          <option val="series">Series</option>
          <option val="subgroup">Subgroup</option>
        </select>
      </div>
      <div class="dialog group" id="ungroup" title="Ungroup">
        <p>Are you sure you want to ungroup this grouping?</p>
      </div>
      <!-- end -->

      <!-- Required libraries & misc includes -->
      <!-- <script src="js/fabric-all.js"></script> -->
      <script src="js/fabric-experimental.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
      <script src="js/magictouch.js"></script>
      <script src="js/includes.js"></script>
      <!-- end -->

      <!-- Fabric.js classes -->
      <!-- <script src="js/fabric-Workspace.js"></script> // currently not used -->
      <script src="js/fabric-Item.js"></script>
      <script src="js/fabric-APTGroup.js"></script>
      <script src="js/fabric-PermGroup.js"></script>
      <!-- end -->

      <!-- APT-specific classes -->
      <script src="js/APTObject.js"></script>
      <script src="js/Workspace.js"></script>
      <!-- <script src="js/PermGroup.js"></script> -->
      <script src="js/PermGroup-experimental.js"></script>
      <script src="js/Item.js"></script>
      <!-- end -->

      <script>

      /*** MAIN PROGRAM EXECUTION BODY ***/

      var workspace = new Workspace({
        apiURL: "http://localhost/apt/json.php"
      });

      workspace.init();

      /***********************************/

    </script>

    <!-- TUIO object loader for npTuioClient -->
    <object id="tuio" type="application/x-tuio">Plugin FAILED to load</object>
    <!-- end -->

  </body>
</html>